{% extends "base.html" %}
{% load custom_tags %}
{% block title %}Play that Game{% endblock %}

{% block head %}
{% endblock %}

{% block goesinfoot %}
{% endblock %}

{% block body_class %}game{% endblock %}

{% block content %}

<div class="container">
    <div class="row">
        <div class="col-md-2 sidebar">
            {% if request.user.is_authenticated %}
            <a class="navbar-brand" href="{% url 'game' %}">Ludum Dare 27: The Game&nbsp;</a>
            {% else %}
            <a class="navbar-brand" href="{% url 'home' %}">Ludum Dare 27: The Game&nbsp;</a>
            {% endif %}
            <ul class="nav navbar-nav pull-right">
                {% if request.user.is_authenticated %}
                <li><a href="{% url 'logout' %}">Log Out</a></li>
                {% else %}
                <li><a href="{% url 'login' %}">Log In</a></li>
                {% endif %}
            </ul>
        </div>
        <div class="col-md-8">
            <div class="board">
            {% for row in rows %}
                <div class="board-row">
                    {% for square in row %}
                        <div class="square">
                            {{ square.tile }}
                        </div>
                    {% endfor %}
                </div>
            {% endfor %}
            </div>

        </div>
        <div class="col-md-2 sidebar">
            <button data-bind="click: chooseAction" type="button" class="btn btn-lg btn-block btn-primary btn-action" data-seconds="1" data-action="walk">Walk (1s)</button>
            <button data-bind="click: chooseAction" type="button" class="btn btn-lg btn-block btn-primary btn-action" data-seconds="1" data-action="run">Run (1s, 2st)</button>
            <button data-bind="click: chooseAction" type="button" class="btn btn-lg btn-block btn-primary btn-action" data-seconds="1" data-action="left">Turn Left (1s)</button>
            <button data-bind="click: chooseAction" type="button" class="btn btn-lg btn-block btn-primary btn-action" data-seconds="1" data-action="right">Turn Right (1s)</button>
            <button data-bind="click: chooseAction" type="button" class="btn btn-lg btn-block btn-primary btn-action" data-seconds="2" data-action="reverse">Turn Around (2s)</button>

            <hr />
            <h4>Actions for the next 10 seconds:</h4>

            <div class="actions-panel" data-bind="foreach: chosenActions">
                <button class="btn btn-lg btn-block btn-success" data-bind="
                    text: name,
                    click: $root.cancelAction
                    ">
                    
                </button>
                 
            </div>
            <h4><span data-bind="text: secondsRemaining"></span> Seconds Left</h4>
        </div>
    </div>
</div>

{% endblock %}
